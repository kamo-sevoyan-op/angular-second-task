<table mat-table [dataSource]="dataSource" [trackBy]="identity">
  <ng-container [matColumnDef]="selectedColumns[0]">
    <th mat-header-cell *matHeaderCellDef>{{ columnNames[0] }}</th>
    <td mat-cell *matCellDef="let element">
      {{ element[selectedColumns[0]] }}
    </td>
  </ng-container>

  <ng-container [matColumnDef]="selectedColumns[1]">
    <th mat-header-cell *matHeaderCellDef>{{ columnNames[1] }}</th>
    <td mat-cell *matCellDef="let element">
      <span class="rounded">{{ element[selectedColumns[1]] }}</span>
    </td>
  </ng-container>

  <ng-container [matColumnDef]="selectedColumns[2]">
    <th mat-header-cell *matHeaderCellDef>{{ columnNames[2] }}</th>
    <td mat-cell *matCellDef="let element" justify="center">
      <div class="country-flag">
        <img [src]="getImageUrl(element[selectedColumns[2]])" />
      </div>
    </td>
  </ng-container>

  <ng-container [matColumnDef]="selectedColumns[3]">
    <th mat-header-cell *matHeaderCellDef>{{ columnNames[3] }}</th>
    <td mat-cell *matCellDef="let element">
      {{ element[selectedColumns[3]] }}
    </td>
  </ng-container>

  <ng-container [matColumnDef]="selectedColumns[4]">
    <th mat-header-cell *matHeaderCellDef>{{ columnNames[4] }}</th>
    <td mat-cell *matCellDef="let element">
      <button mat-icon-button>
        <mat-icon>more_vert</mat-icon>
      </button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="selectedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: selectedColumns"></tr>
</table>

<mat-paginator
  [length]="100"
  [pageSize]="5"
  [pageSizeOptions]="[5, 10, 20]"
  showFirstLastButtons
  aria-label="Rows perpage"
>
</mat-paginator>